(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{400:function(t,r,e){"use strict";e.r(r);var a=e(42),n=Object(a.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"okhttp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#okhttp"}},[t._v("#")]),t._v(" Okhttp")]),t._v(" "),e("h4",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),e("p",[t._v("OkHttp是Square开源的轻量级框架，是一款现代、高效、快速的Android版Http client。")]),t._v(" "),e("h4",{attrs:{id:"优势"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优势"}},[t._v("#")]),t._v(" 优势")]),t._v(" "),e("p",[t._v("它的设计和实现的首要目标便是高效，有如下特性：")]),t._v(" "),e("p",[t._v("• 支持"),e("a",{attrs:{href:"https://www.cnblogs.com/bluestorm/p/7382091.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SPDY"),e("OutboundLink")],1),t._v("(当初Google为了提高HTTP性能，做出了SPDY，它就是HTTP/2的前身，后来也发展成为HTTP/2的标准)、连接池、Gzip和Http缓存（记住第一条可直接推及记起下面四条，感觉萌萌哒^_^）;")]),t._v(" "),e("p",[t._v("• 支持SPDY，因此可以同一IP多个连接共享同一个socket（SPDY并不是一种用于替代HTTP的协议，而是对HTTP协议的增强，具体请自行百度）；")]),t._v(" "),e("p",[t._v("• 在Http/2不可用时, 连接池可极大减少延时；")]),t._v(" "),e("p",[t._v("• 支持Gzip压缩响应体，降低传输内容的大小；")]),t._v(" "),e("p",[t._v("• 支持Http缓存，避免重复请求；")]),t._v(" "),e("p",[t._v("• 服务器配置多IP情况下，当前IP请求失败，支持自动切换到其他IP；")]),t._v(" "),e("p",[t._v("• 使用Okio来简化数据的访问与存储，提高性能；")]),t._v(" "),e("p",[t._v("• OkHttp还处理了代理服务器问题和SSL握手失败问题；")]),t._v(" "),e("h4",{attrs:{id:"源码精读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码精读"}},[t._v("#")]),t._v(" 源码精读")]),t._v(" "),e("ul",[e("li",[t._v("ConnectionPool  socket连接池，节省tcp的连接释放以及TLS协议的握手时间；")]),t._v(" "),e("li",[t._v("Http2xStream 支持请求"),e("a",{attrs:{href:"http://www.blogjava.net/yongboy/archive/2015/03/19/423611.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("多路复用"),e("OutboundLink")],1),t._v("，同一IP多个连接共享同一个socket;")]),t._v(" "),e("li",[t._v("Dispatcher  线程分发执行，任务队里维护；")]),t._v(" "),e("li",[t._v("HttpEngine  http请求处理类；")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/images/ok_http_classes.png",alt:"classes"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("引用知识点")])])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/Andya/p/7272462.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. Tcp三次握手四次挥手"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/3e0935bf2d45",target:"_blank",rel:"noopener noreferrer"}},[t._v("2. okio"),e("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=n.exports}}]);