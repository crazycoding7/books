(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{369:function(s,a,e){s.exports=e.p+"assets/img/android_build_apk.521222a7.png"},465:function(s,a,e){"use strict";e.r(a);var t=e(42),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"android-高级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-高级"}},[s._v("#")]),s._v(" Android 高级")]),s._v(" "),t("p",[s._v("[TOC]")]),s._v(" "),t("h2",{attrs:{id:"一、设计题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、设计题"}},[s._v("#")]),s._v(" 一、设计题")]),s._v(" "),t("h4",{attrs:{id:"_1-从一个有100w个手机号的文件中-从头匹配手机号搜索设计-1、13、135对应的手机号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-从一个有100w个手机号的文件中-从头匹配手机号搜索设计-1、13、135对应的手机号"}},[s._v("#")]),s._v(" 1. 从一个有100w个手机号的文件中，从头匹配手机号搜索设计(1、13、135对应的手机号)？")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("100W个手机号加载到内存，大约占10M空间，存储为数组结构；")])]),s._v(" "),t("li",[t("p",[s._v("遍历数组，首位数字为0的存在一个Map中，key为”0“，value为”对应的数组下标“，然后是首位为1到9的同样处理；以此类推，处理第2-11位手机号，共生成10*11=110个Map；")])]),s._v(" "),t("li",[t("p",[s._v("用户输入首位为1，则查找首位对应key为1的Map，得到首位为1的下标数组；用户继续输入3，则查找第二位为3的Map，得到第二位为3的下标数组；找到两个数组的交集，结果为13开头的手机号下标数组。依次查找后序手机号即可。")]),s._v(" "),t("p",[s._v("空间复杂度为10M，时间复杂度 每位查找基本上递减1/10；")])])]),s._v(" "),t("h2",{attrs:{id:"二、高级题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、高级题"}},[s._v("#")]),s._v(" 二、高级题")]),s._v(" "),t("h3",{attrs:{id:"_1-gradle构建流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-gradle构建流程"}},[s._v("#")]),s._v(" 1. Gradle构建流程")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("clean  清理工程  删除build文件夹\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ************** Configuration on demand is an incubating feature  *******")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、preBuild          每个"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" 都会执行preBuild   准备配置文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、preReleaseBuild   准备release configuration    在 preBuild 之后执行 会依赖preBuild\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、checkReleaseManifest 检查 release下的manifest 在 preReleaseBuild 之后执行 依赖preReleaseBuild \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、preDebugAndroidTestBuild          准备debug下的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v("   在preBuild后执行 依赖preBuild\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("、preDebugBuild                 准备 debug configuration  在preBuild后执行 依赖preBuild\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("、preDebugUnitTestBuild             准备 debug下的单元测试构建  在preBuild后执行 依赖preBuild\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("、preReleaseUnitTestBuild           准备 release下的单元测试构建  在preBuild后执行 依赖preBuild\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ***************** 以上  build 文件夹不存在 ***********************************")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ****************  接下来是对依赖的包 进行下载 *********************在build/incremental/exploded-aar下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("、prepareComAndroidSupportSupportV42311Library       生成 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Android")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SupportV4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".23")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("库支持 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("exploded"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("、prepareComNdAndroidSmartcanCommonsUtilAar1205SmartcanReleaseLibrary   生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("、prepareComNdAndroidSmartcanDatalayerAar1205SmartcanReleaseLibrary        生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datalayer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("、prepareComNdAndroidSmartcanDatatransferAar1205SmartcanReleaseLibrary     生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datatransfer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("、prepareComNdAndroidSmartcanFrameworkAar1205SmartcanReleaseLibrary        生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("framnework"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("、prepareComNdAndroidSmartcanNetworkAar1205SmartcanReleaseLibrary          生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("network"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("、prepareComNdAndroidSmartcanSmartcanCoreAar1205SmartcanReleaseLibrary 生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("、prepareComNdAndroidSmartcanSmartcanDatacollectionAar1205SmartcanReleaseLibrary  生成 smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datacollection"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("smartcan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("、prepareComNdSdpAndroidProcesscheck108Library                         生成  android"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("check"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".8")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("、prepareReleaseDependencies        加载 远端的依赖   加载 所有的需要从远端下载的依赖   \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("、compileReleaseAidl               编译release环境下的 AIDL文件   依赖prepareDebugDependencies   在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("aidl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("、compileReleaseRenderscript       编译 release环境下的渲染脚本， "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Renderscript")]),s._v("用来进行高性能计算，是一种类"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("C")]),s._v("脚本语言 依赖prepareDebugDependencies  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("、generateReleaseBuildConfig   会生成 releasse下的 资源和源码 包括"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BuildConfig")]),s._v("  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("generate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("buildConfig"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release  依赖checkReleaseManifest\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("、generateReleaseAssets            生成 release下的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Assets")]),s._v("文件       但没有完全生成个  算是准备\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("、mergeReleaseAssets               生成 debug下的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Assets")]),s._v("文件 在 build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("assets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  和 merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml文件 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mergeAssets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下   依赖"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReleaseDependencies")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("、generateReleaseResValues     准备resource的 values文件  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("、generateReleaseResources     准备 资源文件 \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("、mergeReleaseResources             release下的 生成"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Resource")]),s._v("文件 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下 和 merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mergeResources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("、processReleaseManifest           依赖prepareReleaseDependencies  生成 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AndroidManifest")]),s._v("文件 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("manifest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("full"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("、processReleaseResources          生成resources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ap_    在 build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("resources下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("、generateReleaseSources           生成"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("R")]),s._v("文件  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("generate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下 \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("、processReleaseJavaRes            \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("、compileReleaseJavaWithJavac      使用"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Javac")]),s._v("编译"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("代码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("、proguardRelease                  生成 混淆文件 运行混淆规则\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("、androidJavadocsPicked\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("、copyMappingTask                  复制 mapping文件  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v("、androidJavadocsJar               生成 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Javadocs")]),s._v("的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Jar")]),s._v("文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("、androidSourcesJar                生成 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("源码的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Jar")]),s._v("文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("、compileLint                      静态代码检查\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("、copyDebugLint                    \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("、checkDebugManifest               检查 release下的manifest 在 preDebugBuild 之后执行 依赖preDebugBuild \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("、prepareDebugDependencies     debug下  加载 远端的依赖   加载 所有的需要从远端下载的依赖\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("、compileDebugAidl             编译debug环境下的 AIDL文件   依赖prepareDebugDependencies   在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("aidl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("、compileDebugRenderscript     编译 debug环境下的渲染脚本   依赖prepareDebugDependencies  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("、generateDebugBuildConfig     会生成 debug下的 资源和源码 包括"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BuildConfig")]),s._v("  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("generate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("buildConfig"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug  依赖checkDebugManifest\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v("、generateDebugAssets              准备 debug下的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Assets")]),s._v("文件  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v("、mergeDebugAssets             生成 debug下的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Assets")]),s._v("文件 在 build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("assets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  和 merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml文件 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mergeAssets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下   依赖"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReleaseDependencies")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("、generateDebugResValues           准备resource的 values文件  件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v("、generateDebugResources           准备 资源文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("、mergeDebugResources              生成资源文件 在generateDebugResources后执行  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("res"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下  和 merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mergeResources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v("、processDebugManifest         依赖prepareReleaseDependencies  生成 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AndroidManifest")]),s._v("文件 在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("incremental"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("manifest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("full"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("release\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("、processDebugResources            生成resources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("debug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ap_    在 build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("intermediates"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("resources下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("、generateDebugSources         生成"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("R")]),s._v("文件  在build"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("generate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("source"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debug下\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v("、processDebugJavaRes              生成"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("资源文件 \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("、compileDebugJavaWithJavac            使用"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Javac")]),s._v("编译"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("代码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v("、extractDebugAnnotations              \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("、mergeDebugProguardFiles       生成混淆文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v("、compileDebugNdk              编译NDK\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v("、packageDebugJniLibs              打包本地依赖包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v("、packageDebugRenderscript    打包渲染脚本\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v("、packageDebugResources        debug  打包资源文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("、proguardDebug                混淆\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v("、bundleDebug\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("、compileDebugSources          编译java源码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),s._v("、assembleDebug                编译创建"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Jar")]),s._v("包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("、copyReleaseLint\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("、extractReleaseAnnotations\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v("、mergeReleaseProguardFiles        生成混淆文件 在buil"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("outputs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("67")]),s._v("、compileReleaseNdk\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v("、packageReleaseJniLibs\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),s._v("、packageReleaseRenderscript\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("、packageReleaseResources\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("、bundleRelease\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("、compileReleaseSources        编译\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v("、assembleRelease              编译创建"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Jar")]),s._v("包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("、assemble     包含了项目中的所有打包相关的任务，比如java项目中打的jar包，"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Android")]),s._v("项目中打的apk\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),s._v("、lint         android静态代码检查\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("、prepareDebugUnitTestDependencies    加载单元测试以来的远程包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("、processDebugUnitTestJavaRes          生成单元测试\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v("、compileDebugUnitTestJavaWithJavac        使用"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Javac")]),s._v("编译"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("单元测试代码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v("、compileDebugUnitTestSources              编译单元测试 源码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("、mockableAndroidJar\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("、assembleDebugUnitTest                    编译打包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("、testDebugUnitTestPicked                  测试UT\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("、prepareReleaseUnitTestDependencies       加载 UT的依赖\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("、processReleaseUnitTestJavaRes            加载UT需要的资源文件\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v("、compileReleaseUnitTestJavaWithJavac      使用"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Javac")]),s._v("编译"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v("单元测试代码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v("、compileReleaseUnitTestSources            编译单元测试 源码\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("、assembleReleaseUnitTest                  编译打包\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v("、testReleaseUnitTestPicked                测试UT\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("97")]),s._v("、test         包含了所有的测试任务\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("、check       包含了项目中所有验证相关的任务\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("build       包含所有的 build任务\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("、uploadArchivesUploading"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  上传\n")])])]),t("h3",{attrs:{id:"_2-android打包流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-android打包流程"}},[s._v("#")]),s._v(" 2. Android打包流程")]),s._v(" "),t("ul",[t("li",[t("p",[s._v('利用aapt打包资源文件，生成R.java和resources.ap_文件(包括assert、res/raw、清单文件、res目录)。将所有资源与编译生成的resource.arsc文件以及"加密"过的AndroidManifest.xml打包压缩成resources.ap_文件；')])]),s._v(" "),t("li",[t("p",[s._v("处理AIDL文件，生成相应的.java文件；")])]),s._v(" "),t("li",[t("p",[s._v("编译工程源代码，生成相应的class文件。处理文件包括src、R.java、AIDL生成的java文件、库jar文件，调用javac编译生成；")])]),s._v(" "),t("li",[t("p",[s._v("转换所有的class文件，生成class。dex文件。使用dx工具将字节码文件转换为dalvik字节码。")])]),s._v(" "),t("li",[t("p",[s._v("打包生成apk，利用apkbuilder工具；")])]),s._v(" "),t("li",[t("p",[s._v("对apk进行签名；")])]),s._v(" "),t("li",[t("p",[s._v("对签名后的apk进行对齐处理(zipalign)。")]),s._v(" "),t("p",[s._v("这一步需要使用的工具为zipalign，它的主要工作是将apk包进行对齐处理，使apk包中的所有资源文件距离文件起始偏移为4字节的整数倍，这样通过内存映射访问apk时的速度会更快，验证apk文件是否对齐过的工作由ZipAlign.cpp文件的 "),t("code",[s._v("verify()")]),s._v("函数完成，处理对齐的工作则由"),t("code",[s._v("process()")]),s._v("函数完成。")])])]),s._v(" "),t("img",{staticStyle:{zoom:"80%"},attrs:{src:e(369)}}),s._v(" "),t("h3",{attrs:{id:"_3-apk安装流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-apk安装流程"}},[s._v("#")]),s._v(" 3. APK安装流程")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("APK安装涉及目录")]),s._v(" "),t("ol",[t("li",[s._v("system/app：系统自带的应用程序，需要root权限才能删除；")]),s._v(" "),t("li",[s._v("data/app：用户程序安装目录，安装时会把apk复制到此目录下；")]),s._v(" "),t("li",[s._v("data/data/：存放应用程序的数据；")]),s._v(" "),t("li",[s._v("data/dalvik-cache：将apk中的dex文件安装到该目录下。")])])]),s._v(" "),t("li",[t("p",[s._v("流程")]),s._v(" "),t("p",[s._v("（1）拷贝apk到指定的目录：默认情况下，用户安装的apk首先会拷贝到/data/app下，用户有访问/data/app目录的权限，但系统出厂的apk文件会被放到/system分区下，包括/system/app，/system/vendor/app，以及/system/priv-app等，该分区需要root权限的用户才能访问。\n（2）加载apk、拷贝文件、创建应用的数据目录：为了加快APP的启动速度，apk在安装的时候，会首先将APP的可执行文件（dex）拷贝到/data/dalvik-cache目录下，缓存起来。再在/data/data/目录下创建应用程序的数据目录（以应用包名命令），用来存放应用的数据库、xml文件、cache、二进制的so动态库等。\n（3）解析apk的AndroidManifest.xml文件：在安装apk的过程中，会解析apk的AndroidManifest.xml文件，将apk的权限、应用包名、apk的安装位置、版本、userID等重要信息保存在/data/system/packages.xml文件中。这些操作都是在"),t("strong",[s._v("PackageManagerService")]),s._v("中完成\n的。\n（4）显示icon图标：应用程序经过PMS中的逻辑处理后，相当于已经注册好了，如果想要在Android桌面上看到icon图标，则需要Launcher将系统中已经安装的程序展现在桌面上。")])])]),s._v(" "),t("h3",{attrs:{id:"_4-glide-图片缓存设计-图片滚出屏幕后怎么处理的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-glide-图片缓存设计-图片滚出屏幕后怎么处理的"}},[s._v("#")]),s._v(" 4. Glide 图片缓存设计？图片滚出屏幕后怎么处理的？")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("缓存设计")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("活动缓存(弱引用)；")]),s._v(" "),t("p",[s._v("存储正在显示的图片，图片移除屏幕或关闭当前界面图片都会保存到内存缓存。")]),s._v(" "),t("p",[s._v("对资源添加了引用计数器，当屏幕中都不引用资源时，移除到内存缓存。")])]),s._v(" "),t("li",[t("p",[s._v("内存缓存(有最大Size、强引用LruCache&LinkedHashMap);")])]),s._v(" "),t("li",[t("p",[s._v("资源缓存(解码后的图片、LruCache)；")])]),s._v(" "),t("li",[t("p",[s._v("原始缓存(LruCache)；")])])])]),s._v(" "),t("li",[t("p",[s._v("ListView图片滚出屏幕处理？")]),s._v(" "),t("p",[s._v("活动缓存只会存储当前界面上对应item上的图片，item移除屏幕，当ImageView复用时，会先清空它对应的活动缓存的值(移动到内存缓存)，然后再加载新图片到活动缓存(活动缓存会一直保存6个item对应的资源)。")])])]),s._v(" "),t("h3",{attrs:{id:"_5-listview、recycleview-区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-listview、recycleview-区别"}},[s._v("#")]),s._v(" 5. ListView、RecycleView 区别？")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("都用适配器设计模式")]),s._v(" "),t("p",[s._v("解耦View和数据源，为View提供统一数据读取方法。")])]),s._v(" "),t("li",[t("p",[s._v("RecycleView 代码设计更精细化、功能化")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LayoutManager")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 负责Item视图布局显示管理(支持多种布局显示)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ItemDecoration")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 添加分割线")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RecyclerView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Adapter")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BadgeGateUsersAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ViewHolder")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RecyclerView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Recycler")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 负责管理缓存  ")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("缓存设计区别("),t("strong",[s._v("ListView 二级缓存、RecyclerView四级缓存")]),s._v(")")]),s._v(" "),t("p",[t("strong",[s._v("缓存级别设计区别：")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("scrap:      对应listView的一级缓存(屏幕内显示的)")])]),s._v(" "),t("li",[t("p",[s._v("cached:   对应listView的二级缓存(移除屏幕的)")]),s._v(" "),t("p",[s._v("linearlayoutmanager来说cached缓存默认大小为2，起到的作用就是rv滑动时刚被移出屏幕的viewholer的收容所。")])]),s._v(" "),t("li",[t("p",[s._v("extension:    三级缓存")]),s._v(" "),t("p",[s._v("第三级缓存，这是一个自定义的缓存，没错rv是可以自定义缓存行为的")])])]),s._v(" "),t("p",[s._v("目前来说这还只是个空实现而已，从这点来看其实rv所说的四级缓存本质上还只是三级缓存。")]),s._v(" "),t("p",[s._v("pool：    四级缓存")]),s._v(" "),t("p",[s._v("pool一般会和cached配合使用，这么来说，cached存不下的会被保存到pool中毕竟cached默认容量大小只有2，但是pool容量       也是有限的当保存满之后再有viewholder到来的话就只能会无情抛弃掉，它也有一个默认的容量大小5.")]),s._v(" "),t("p",[t("strong",[s._v("其他区别：")])]),s._v(" "),t("ol",[t("li",[s._v("ListView缓存的是View，而RV存储的是ViewHolder；")]),s._v(" "),t("li",[s._v("cached如果命中，可以直接复用，无需createVew和bindView(item划出立即划入场景，listview不能立即使用)；")]),s._v(" "),t("li",[s._v("RecycleViewPool可以共用多个相同Adapter的ViewHolder，避免重复销毁和创建(场景：ViewPager+多个RV等)。")])])]),s._v(" "),t("li",[t("p",[s._v("RV支持局部刷新")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// rv实现")]),s._v("\nmRvAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("notifyItemChanged")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// listView实现局部刷新(调用getView方法)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//我们通过ListView的getChildAt()来获得需要更新的View，然后通过getTag()获得ViewHolder，从而实现更新。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 更新对应view的内容\n     * @param name\n     * @param position\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" position"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" firstVisiblePosition "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" listview"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFirstVisiblePosition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" lastVisiblePosition "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" listview"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLastVisiblePosition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在看见范围内才更新进度条")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("position "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" firstVisiblePosition "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" position "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" lastVisiblePosition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取指定位置view对象!!!")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("View")]),s._v(" view "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" listview"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getChildAt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("position "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" firstVisiblePosition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("view"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestListViewAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ViewHolder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取指定view对应的ViewHolder!!!")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestListViewAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ViewHolder")]),s._v(" viewHolder "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestListViewAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ViewHolder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" view"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTag")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                viewHolder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setText")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("数据源改变时处理区别")]),s._v(" "),t("p",[s._v("ListView和RecyclerView最大的区别在于数据源改变时的缓存的处理逻辑，ListView是”一锅端”，将所有的mActiveViews都移入了二级缓存mScrapViews("),t("strong",[s._v("都需要重新bindview")]),s._v(")，而RecyclerView则是更加灵活地对每个View修改标志位，"),t("strong",[s._v("区分是否重新bindView")]),s._v("。")])])]),s._v(" "),t("h3",{attrs:{id:"_6-v1v2v3签名区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-v1v2v3签名区别"}},[s._v("#")]),s._v(" 6. V1V2V3签名区别？")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jb51.net/article/174939.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);