(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{476:function(v,_,t){"use strict";t.r(_);var r=t(44),a=Object(r.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h2",{attrs:{id:"直播技术"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直播技术"}},[v._v("#")]),v._v(" 直播技术")]),v._v(" "),t("p",[v._v("[TOC]")]),v._v(" "),t("h3",{attrs:{id:"一、直播"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、直播"}},[v._v("#")]),v._v(" 一、直播")]),v._v(" "),t("h4",{attrs:{id:"_1-流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-流程"}},[v._v("#")]),v._v(" 1. 流程")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("采集")]),v._v(" "),t("p",[v._v("a). 通过Android Camera 拍摄预览中设置setPreviewCallBack实现onPreviewFrame接口，实时截取每一帧视频流的数据。")]),v._v(" "),t("p",[v._v("b). 通过Android的MediaRecorder，在SetoutputFile函数中绑定LocalSocket实现。")]),v._v(" "),t("p",[v._v("c). 流媒体服务器方式，利用FFmpeg或者GetStreamer等获取Camera视频。")])]),v._v(" "),t("li",[t("p",[v._v("处理")])]),v._v(" "),t("li",[t("p",[v._v("编码和封装")]),v._v(" "),t("p",[v._v("a). 不编码，直接通过Socket传输原始YUV420SP视频帧。")]),v._v(" "),t("p",[v._v("b). JEPG. 将原始YUV420SP视频帧压缩成H.264再传输。")]),v._v(" "),t("p",[v._v("c). H.264/AVC.将原始YUV420SP视频帧压缩成H.264再传输，常见的基于H264的开源Encoder有JM、X264、T264、Hdot264等")]),v._v(" "),t("p",[v._v("d). MPEG4.将原始YUV420SP视频帧压缩成MPEG4再传输")])]),v._v(" "),t("li",[t("p",[v._v("推送到服务器")]),v._v(" "),t("p",[v._v("a). SOCKET传输")]),v._v(" "),t("p",[v._v("b). HTTP传输")]),v._v(" "),t("p",[v._v("c). RTP/RTSP传输")]),v._v(" "),t("p",[v._v("d). 流媒体服务器方式，如live555等")])]),v._v(" "),t("li",[t("p",[v._v("服务器流转发")])]),v._v(" "),t("li",[t("p",[v._v("播放器流播发")])])]),v._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"images/直播流程图.png"}}),v._v(" "),t("h4",{attrs:{id:"_2-协议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-协议"}},[v._v("#")]),v._v(" 2. 协议")]),v._v(" "),t("p",[t("strong",[v._v("传输协议：")])]),v._v(" "),t("p",[v._v("常用的几种视频协议是：RTMP、HTTP-FLV、HLS、RTP/RTCP协议。")]),v._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/ai2000ai/article/details/80306693",target:"_blank",rel:"noopener noreferrer"}},[v._v("参考"),t("OutboundLink")],1)]),v._v(" "),t("p",[v._v("我列一个表作为总结：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("协议")]),v._v(" "),t("th",[v._v("httpflv(国内)")]),v._v(" "),t("th",[v._v("rtmp(国内)")]),v._v(" "),t("th",[v._v("hls")]),v._v(" "),t("th",[v._v("dash")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("传输层")]),v._v(" "),t("td",[v._v("http流")]),v._v(" "),t("td",[v._v("tcp流")]),v._v(" "),t("td",[v._v("http")]),v._v(" "),t("td",[v._v("http")])]),v._v(" "),t("tr",[t("td",[v._v("视频格式")]),v._v(" "),t("td",[v._v("flv")]),v._v(" "),t("td",[v._v("flv tag")]),v._v(" "),t("td",[v._v("Ts文件")]),v._v(" "),t("td",[v._v("Mp4 3gp webm")])]),v._v(" "),t("tr",[t("td",[v._v("延时")]),v._v(" "),t("td",[v._v("低")]),v._v(" "),t("td",[v._v("低")]),v._v(" "),t("td",[v._v("很高")]),v._v(" "),t("td",[v._v("高")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("数据分段！")])]),v._v(" "),t("td",[v._v("连续流")]),v._v(" "),t("td",[v._v("连续流")]),v._v(" "),t("td",[v._v("切片文件")]),v._v(" "),t("td",[v._v("切片文件")])]),v._v(" "),t("tr",[t("td",[v._v("Html5播放")]),v._v(" "),t("td",[v._v("暂不支持")]),v._v(" "),t("td",[v._v("不支持")]),v._v(" "),t("td",[v._v("大部分支持")]),v._v(" "),t("td",[v._v("极大部分支持")])]),v._v(" "),t("tr",[t("td",[v._v("服务器编程难易")]),v._v(" "),t("td",[v._v("简单")]),v._v(" "),t("td",[v._v("一般")]),v._v(" "),t("td",[v._v("一般+")]),v._v(" "),t("td",[v._v("中等")])])])]),v._v(" "),t("p",[t("strong",[v._v("H.264/AVC压缩技术(编码解码)")])]),v._v(" "),t("p",[v._v("​\tH.264是国际标准化组织（ISO）和国际电信联盟（ITU）共同提出的继MPEG4之后的新一代数字视频压缩格式(高度压缩数字视频编解码器标准)。")]),v._v(" "),t("p",[v._v("1．低码率（Low Bit Rate）：和MPEG2和MPEG4 ASP等压缩技术相比，在同等图像质量下，采用H.264技术压缩后的数据量只有MPEG2的1/8，MPEG4的1/3。 [1]")]),v._v(" "),t("p",[v._v("2．高质量的图像：H.264能提供连续、流畅的高质量图像（DVD质量）。 [1]")]),v._v(" "),t("p",[v._v("3．容错能力强：H.264提供了解决在不稳定网络环境下容易发生的丢包等错误的必要工具。 [1]")]),v._v(" "),t("p",[v._v("4．网络适应性强：H.264提供了网络抽象层（Network Abstraction Layer），使得H.264的文件能容易地在不同网络上传输（例如互联网，CDMA，GPRS，WCDMA，CDMA2000等）。 [1]")])])}),[],!1,null,null,null);_.default=a.exports}}]);